# 주석

> 나쁜 코드에 주석을 달지 마라. 새로 짜라 - 브라이언 W. 커니핸, P.J. 플라우거

- 잘 달린 주석은 그 어떤 정보보다 유용하다. 
- 경솔하고 근거 없는 주석은 코드를 이해하기 어렵게 만든다.
- 오래되고 조잡한 주석은 거짓과 잘못된 정보를 퍼뜨려 해악을 미친다. 
- 주석은 보통 실패를 만회하기 위해 사용한다
  - 주석이 필요한 상황에 처하면 곰곰히 생각하기 바란다. 
  - 코드로 의도를 표현할 방법은 없을까?
- 주석은 오래될수록 코드에서 멀어진다
  - 프로그래머들이 주석을 유지하고 보수하기란 현실적으로 불가능
- 부정확한 주석은 아예 없는 주석보다 훨씬 더 나쁘다. 
- 진실은 코드에만 존재한다. 

### 주석은 나쁜 코드를 보완하지 못한다. 
- 코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다. 
- 표현력이 풍부하고 깔끔하며 주석이 거의 없는 코드가, 복잡하고 어수선하며 주석이 많이 달린 코드보다 훨씬 좋다. 

### 코드로 의도를 표현하라!
- 확실히 코드만으로 의도를 설명하기 어려운 경우가 존재한다. 
- 하지만 많은 경우 주석으로 달려는 설명을 함수로 만들어 표현해도 충분하다

### 좋은 주석
- 몇 가지 좋은 주석이 있지만 정말로 좋은 주석은 달지 않는것

-  법적인 주석
  - 때로는 회사가 정립한 구현 표준에 맞춰 법적인 이유로 특정 주석을 넣으라고 명시한다. 
    - 예로 소스파일 첫머리에 저작권 정보와 소유권 정보 주석

- 정보를 제공하는 주석
  - 때로는 기본적인 정보를 주석으로 제공하면 편리하다. 
  - 그래도 리팩토링을 통해 주석이 필요 없게 하는것이 좋다

- 의도를 설명하는 주석
  - 때때로 주석은 구현을 이해하게 도와주는 선을 넘어 결정에 깔린 의도까지 설명한다. 

- 의미를 명료하게 밝히는 주석
  - 모호한 인수나 반환값은 그 의미를 읽기 좋게 표현하면 이해하기 쉬워진다. 
  - 일반적으로 인수나 반환값 자체를 명확하게 만들면 더 좋지만 표준 라이브러리나 변경하지 못하는 코드에 속한다면 의미를 명료하게 밝히는 주석이 유용하다. 

- 결과를 경고하는 주석
  - 결과를 경고할 목적으로 주석을 사용
  - 예
    - test메소드에서 //여유 시간이 충분하지 않다면 실행하지 마십시오
    - // SimpleDataFormat은 스레드에 안전하지 못하다. 따라서 각 인스턴스를 독립적으로 생성해야 한다
  - 더 나은 해결책이 있을수 있으나 합리적이다. 

- TODO 주석
  - 앞으로 할 일을 TODO 주석으로 남겨두면 편하다.
  - IDE 도움으로 관리도 좋아짐. 하지만 남용해서는 안된다.

- 중요성을 강조하는 주석

- 공개 API에서 Javadocs


### 나쁜 주석
- 대다수 주석이 이 범주에 속한다. 

- 주절거리는 주석 
  - 특별한 이유 없이 의무감 혹은 프로세스에서 하라고 해서 주석을 단다면 시간낭비
    - 주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력한다. 
  - 이해가 안 되어 다른 무듈까지 뒤져야 하는 주석은 독자와 소통하지 못하는 주석이다.

- 같은 이야기를 중복하는 주석
  - 같은 코드 내용을 그대로 중복한 주석
    - 주석은 코드보다 더 많은 정보를 제공하지 못함
    - 코드의 정당화나, 의도나 근거를 설명하는 주석도 아님
    - 코드보다 부정확해 독자가 함수를 대충 이해하고 넘어가게 만든다

- 오해할 여지가 있는 주석
  - 코드보다 읽기 어려운 주석에 담긴 '살짝 잘못된 정보'로 인해 프로그래머가 오해 할 수 있다.

- 의무적으로 다는 주석
  - 코드를 복잡하게 만들고, 혼동과 무질서를 초래한다. 

- 이력을 기록하는 주석
  - 예전에는 모듈 첫머리에 변경 이력을 기록하고 관리하는 관례가 바람직했다. -> 소스 코드 관리 시스템이 없었으니까
  - 이제는 혼란만 가중한다. 완전히 제거하는 편이 좋다

- 있으나 마나 한 주석
  - 너무 당연한 사실을 언급, 새로운 정보를 주지 못하는 주석
  - 개발자가 주석을 무시하는 습관에 빠지게 만든다.

- 무서운 잡음

- 함수나 변수로 표현할 수 있다면 주석을 달지마라

- 위치를 표시하는 주석
  - 가독성만 낮춘다. 
  - 너무 자주 사용하지 않는 다면 눈에 띄며 주의를 끄는 것은 좋지 않다. 

- 닫는 괄호에 다는 주석
  - 중첩이 심하고 장황하면 의미가 있을순 있다. 하지만 달지말고 함수를 줄이려 시도하자

- 공로를 돌리거나 저자를 표시하는 주석
  -소스 코드 관리시스템이 있으니 빼라

- 주석으로 처리한 코드
  - 다른 사람들이 지우기를 주저한다. 이유가 있어 남겨 놓았으리라고, 중요하니깐 지우면 안 된다고 생각한다
  - 소스 코드 관리시스템이 있으니 지워라

- HTML 주석
  - 혐오 그 잡채

- 전역 정보
  - 근처에 있는 코드만 기술하라
  - 정보가 변해도 주석이 같이 변하리라는 보장은 없다

- 너무 많은 정보
- 모호한 관계
- 함수 헤더
  - 짧고 한가지만 수행하는 함수에 이름을 잘 지어라
- 비공개 코드에서 Javadocs

